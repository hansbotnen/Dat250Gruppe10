<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
<h:head>
    	<link rel="stylesheet" type="text/css" href="css/style.css">	</link>	
       <title>Dat250 Advanced Example</title>
</h:head>
<h:body onload="#{sessionController.redirect()}">
<div class="div-container">
<div class="div-container-title">
<h3 class="container-title">Tweets</h3>


</div>
 <f:view>
         <div class ="div-form">
        <h:form class="form-tweets">
        
           	<div class="div-container-sender">
           		<h:outputLabel value="Author: "/>
           		<h:outputLabel  value="#{username}"/>
            </div>
           	<div class="div-container-sender">
           		<h:outputLabel value="Message: "/>
           		<h:inputText  value="#{tweetController.tweet.message}"/>
            </div> 
           	<div class="div-container-sender">
           		<h:outputLabel value="Topic: "/>
           		<h:inputText  value="#{tweetController.tweet.topic}"/>
           </div>                   
           <div class="div-container-sender div-container-sender-button">    
           		<h:commandButton action="#{tweetController.saveTweet()}" value="Send Tweet"/>
           </div>
           
      	 </h:form>
       	 </div>
 
   </f:view> 
 
 <div class="div-container-tweets">
   
   <h:form>
    <ui:repeat value="#{tweetController.getTweets()}" var="tw">
    <div class="div-container-tweet">
       <b><h:outputLabel value="Tweet ID: "/><h:outputText value="#{tw.id}" /></b><br/>
       <h:outputLabel value="Tweet author: "/><h:outputText value="#{tw.author}" /><br/>
       <h:outputLabel value="Message: "/><h:outputText value="#{tw.message}" /><br/>
       <br/>
     </div>
   </ui:repeat>
   </h:form>  
   </div>
   
	<h:form>
		<h:commandLink action="#{sessionController.logout()}" value="Logout"></h:commandLink>
	</h:form>   
</div>   
</h:body>
</html>